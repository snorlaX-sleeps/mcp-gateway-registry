{
  "openapi": "3.1.0",
  "info": {
    "title": "MCP Gateway Registry",
    "description": "A registry and management system for Model Context Protocol (MCP) servers",
    "version": "v1.0.15"
  },
  "paths": {
    "/api/auth/login": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login Form",
        "description": "Show login form with OAuth2 providers",
        "operationId": "login_form_api_auth_login_get",
        "parameters": [
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login Submit",
        "description": "Handle login form submission - supports both traditional and API calls",
        "operationId": "login_submit_api_auth_login_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_submit_api_auth_login_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/auth/{provider}": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth2 Login Redirect",
        "description": "Redirect to auth server for OAuth2 login",
        "operationId": "oauth2_login_redirect_api_auth_auth__provider__get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/auth/callback": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth2 Callback",
        "description": "Handle OAuth2 callback from auth server",
        "operationId": "oauth2_callback_api_auth_auth_callback_get",
        "parameters": [
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Error"
            }
          },
          {
            "name": "details",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Details"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout Get",
        "description": "Handle logout via GET request (for URL navigation)",
        "operationId": "logout_get_api_auth_logout_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout Post",
        "description": "Handle logout via POST request (for forms)",
        "operationId": "logout_post_api_auth_logout_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/providers": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Providers Api",
        "description": "API endpoint to get available OAuth2 providers for React frontend",
        "operationId": "get_providers_api_api_auth_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/auth/config": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Auth Config",
        "description": "API endpoint to get auth configuration for React frontend",
        "operationId": "get_auth_config_api_auth_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Read Root",
        "description": "Main dashboard page showing services based on user permissions.",
        "operationId": "read_root_api__get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Servers Json",
        "description": "Get servers data as JSON for React frontend and external API (supports both session cookies and Bearer tokens).",
        "operationId": "get_servers_json_api_servers_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/toggle/{service_path}": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Toggle Service Route",
        "description": "Toggle a service on/off (requires toggle_service UI permission).",
        "operationId": "toggle_service_route_api_toggle__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_toggle_service_route_api_toggle__service_path__post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Register Service",
        "description": "Register a new service (requires register_service UI permission).",
        "operationId": "register_service_api_register_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_register_service_api_register_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Register Service",
        "description": "Internal service registration endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_register_service_api_internal_register_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_register_service_api_internal_register_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Remove Service",
        "description": "Internal service removal endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_remove_service_api_internal_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_remove_service_api_internal_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/toggle": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Toggle Service",
        "description": "Internal service toggle endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_toggle_service_api_internal_toggle_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_toggle_service_api_internal_toggle_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/healthcheck": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Healthcheck",
        "description": "Internal health check endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_healthcheck_api_internal_healthcheck_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/edit/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Edit Server Form",
        "description": "Show edit form for a service (requires modify_service UI permission).",
        "operationId": "edit_server_form_api_edit__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Edit Server Submit",
        "description": "Handle server edit form submission (requires modify_service UI permission).",
        "operationId": "edit_server_submit_api_edit__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_edit_server_submit_api_edit__service_path__post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tokens": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Token Generation Page",
        "description": "Show token generation page for authenticated users.",
        "operationId": "token_generation_page_api_tokens_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/server_details/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Details",
        "description": "Get server details by path, or all servers if path is 'all' (filtered by permissions).",
        "operationId": "get_server_details_api_server_details__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tools/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Service Tools",
        "description": "Get tool list for a service (filtered by permissions).",
        "operationId": "get_service_tools_api_tools__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/refresh/{service_path}": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Refresh Service",
        "description": "Refresh service health and tool information (requires health_check_service permission).",
        "operationId": "refresh_service_api_refresh__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/add-to-groups": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Add Server To Groups",
        "description": "Internal endpoint to add a server to specific scopes groups (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_add_server_to_groups_api_internal_add_to_groups_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_add_server_to_groups_api_internal_add_to_groups_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/remove-from-groups": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Remove Server From Groups",
        "description": "Internal endpoint to remove a server from specific scopes groups (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_remove_server_from_groups_api_internal_remove_from_groups_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/list": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal List Services",
        "description": "Internal service listing endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_list_services_api_internal_list_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/create-group": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Create Group",
        "description": "Internal endpoint to create a new group in both IdP and scopes.yml (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_create_group_api_internal_create_group_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_create_group_api_internal_create_group_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/delete-group": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Delete Group",
        "description": "Internal endpoint to delete a group from both Keycloak and scopes (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_delete_group_api_internal_delete_group_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_delete_group_api_internal_delete_group_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/list-groups": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal List Groups",
        "description": "Internal endpoint to list groups from Keycloak and/or scopes (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_list_groups_api_internal_list_groups_get",
        "parameters": [
          {
            "name": "include_keycloak",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Keycloak"
            }
          },
          {
            "name": "include_scopes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Scopes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tokens/generate": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Generate User Token",
        "description": "Generate a JWT token for the authenticated user.\n\nRequest body should contain:\n{\n    \"requested_scopes\": [\"scope1\", \"scope2\"],  // Optional, defaults to user's current scopes\n    \"expires_in_hours\": 8,                     // Optional, defaults to 8 hours\n    \"description\": \"Token for automation\"      // Optional description\n}\n\nReturns:\n    Generated JWT token with expiration info\n\nRaises:\n    HTTPException: If request fails or user lacks permissions",
        "operationId": "generate_user_token_api_tokens_generate_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/admin/tokens": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Admin Tokens",
        "description": "Admin-only endpoint to retrieve JWT tokens from Keycloak.\n\nReturns both access token and refresh token for admin users.\n\nReturns:\n    JSON object containing access_token, refresh_token, expires_in, etc.\n\nRaises:\n    HTTPException: If user is not admin or token retrieval fails",
        "operationId": "get_admin_tokens_api_admin_tokens_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Register Service Api",
        "description": "Register a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/register\nbut uses modern JWT Bearer token authentication via nginx headers, making it\nsuitable for external service-to-service communication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `name` (required): Service name\n- `description` (required): Service description\n- `path` (required): Service path (e.g., /myservice)\n- `proxy_pass_url` (required): Proxy URL (e.g., http://localhost:8000)\n- `tags` (optional): Comma-separated tags\n- `num_tools` (optional): Number of tools\n- `num_stars` (optional): Star rating\n- `is_python` (optional): Is Python server (boolean)\n- `license` (optional): License name\n- `overwrite` (optional): Overwrite if exists (boolean, default true)\n- `auth_provider` (optional): Auth provider name\n- `auth_type` (optional): Auth type (e.g., oauth, basic)\n- `supported_transports` (optional): JSON array of transports\n- `headers` (optional): JSON object of headers\n- `tool_list_json` (optional): JSON array of tool definitions\n- `mcp_endpoint` (optional): Full URL for custom MCP endpoint (overrides /mcp suffix)\n- `sse_endpoint` (optional): Full URL for custom SSE endpoint (overrides /sse suffix)\n- `version` (optional): Server version (e.g., v1.0.0, v2.0.0)\n- `status` (optional): Version status (stable, beta, deprecated)\n\n**Response:**\n- `201 Created`: Service registered successfully\n- `400 Bad Request`: Invalid input data\n- `401 Unauthorized`: Missing or invalid JWT token\n- `409 Conflict`: Service already exists with same version (different version auto-creates new version)\n- `500 Internal Server Error`: Server error\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/register \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"name=My Service\" \\\n  -F \"description=My MCP Service\" \\\n  -F \"path=/myservice\" \\\n  -F \"proxy_pass_url=http://localhost:8000\"\n```",
        "operationId": "register_service_api_api_servers_register_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_register_service_api_api_servers_register_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/toggle": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Toggle Service Api",
        "description": "Toggle a service's enabled/disabled state via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/toggle\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `path` (required): Service path\n- `new_state` (required): New state (true=enabled, false=disabled)\n\n**Response:**\nReturns the updated service status.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/toggle \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"path=/myservice\" \\\n  -F \"new_state=true\"\n```",
        "operationId": "toggle_service_api_api_servers_toggle_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_toggle_service_api_api_servers_toggle_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Remove Service Api",
        "description": "Remove a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/remove\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `path` (required): Service path to remove\n\n**Response:**\nReturns confirmation of removal.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/remove \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"path=/myservice\"\n```",
        "operationId": "remove_service_api_api_servers_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_remove_service_api_api_servers_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/health": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Healthcheck Api",
        "description": "Get health status for all registered services via JWT authentication (External API).\n\nThis endpoint provides the same functionality as GET /api/internal/healthcheck\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Response:**\nReturns health status for all services.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/health \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "healthcheck_api_api_servers_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/add": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Add Server To Groups Api",
        "description": "Add a service to scope groups via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/add-to-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `server_name` (required): Service name\n- `group_names` (required): Comma-separated list of group names\n\n**Response:**\nReturns confirmation of group assignment.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/add \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"server_name=myservice\" \\\n  -F \"group_names=admin,developers\"\n```",
        "operationId": "add_server_to_groups_api_api_servers_groups_add_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_add_server_to_groups_api_api_servers_groups_add_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Remove Server From Groups Api",
        "description": "Remove a service from scope groups via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/remove-from-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `server_name` (required): Service name\n- `group_names` (required): Comma-separated list of group names to remove\n\n**Response:**\nReturns confirmation of removal from groups.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/remove \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"server_name=myservice\" \\\n  -F \"group_names=developers\"\n```",
        "operationId": "remove_server_from_groups_api_api_servers_groups_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_remove_server_from_groups_api_api_servers_groups_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/create": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Create Group Api",
        "description": "Create a new scope group via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/create-group\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `group_name` (required): Name of the new group\n- `description` (optional): Group description\n- `create_in_idp` (optional): Whether to create in IdP (default: true)\n\n**Response:**\nReturns confirmation of group creation.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/create \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"group_name=new-team\" \\\n  -F \"description=Team for new project\" \\\n  -F \"create_in_idp=true\"\n```",
        "operationId": "create_group_api_api_servers_groups_create_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_group_api_api_servers_groups_create_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/delete": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Delete Group Api",
        "description": "Delete a scope group via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/delete-group\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `group_name` (required): Name of the group to delete\n- `delete_from_keycloak` (optional): Whether to delete from Keycloak (default: true)\n- `force` (optional): Force deletion of system groups (default: false)\n\n**Response:**\nReturns confirmation of group deletion.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/delete \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"group_name=old-team\" \\\n  -F \"delete_from_keycloak=true\" \\\n  -F \"force=false\"\n```",
        "operationId": "delete_group_api_api_servers_groups_delete_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_delete_group_api_api_servers_groups_delete_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "List Groups Api",
        "description": "List all scope groups via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as GET /api/internal/list-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Response:**\nReturns a list of all groups and their synchronization status.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/groups \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "list_groups_api_api_servers_groups_get",
        "parameters": [
          {
            "name": "include_keycloak",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Keycloak"
            }
          },
          {
            "name": "include_scopes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Scopes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/{group_name}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Group Api",
        "description": "Get full details of a specific group via JWT Bearer Token authentication (External API).\n\nThis endpoint retrieves complete information about a group including server_access,\ngroup_mappings, and ui_permissions from the scopes storage backend.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Response:**\nReturns complete group definition including:\n- scope_name: Name of the scope/group\n- scope_type: Type of scope (e.g., \"server_scope\")\n- description: Description of the group\n- server_access: List of server access definitions\n- group_mappings: List of group mappings\n- ui_permissions: UI permissions configuration\n- created_at: Creation timestamp\n- updated_at: Last update timestamp\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/groups/currenttime-users \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "get_group_api_api_servers_groups__group_name__get",
        "parameters": [
          {
            "name": "group_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Group Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/import": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Import Group Definition",
        "description": "Import a complete group definition via JSON (External API).\n\nThis endpoint accepts a complete group definition including all three document types\n(server_scope, group_mapping, ui_scope) and creates/updates them in the storage backend.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request Body:**\n```json\n{\n  \"scope_name\": \"group-name\",\n  \"scope_type\": \"server_scope\",\n  \"description\": \"Group description\",\n  \"server_access\": [\n    {\n      \"server\": \"currenttime\",\n      \"methods\": [\"initialize\", \"tools/list\", \"tools/call\"],\n      \"tools\": [\"current_time_by_timezone\"]\n    }\n  ],\n  \"group_mappings\": [\"group-name\", \"other-group\"],\n  \"ui_permissions\": {\n    \"list_service\": [\"currenttime\", \"mcpgw\"],\n    \"list_agents\": [\"/code-reviewer\"],\n    \"health_check_service\": [\"currenttime\"]\n  },\n  \"create_in_idp\": true\n}\n```\n\n**Required Fields:**\n- `scope_name`: Name of the scope/group\n\n**Optional Fields:**\n- `scope_type`: Type of scope (default: \"server_scope\")\n- `description`: Description of the group\n- `server_access`: List of server access definitions\n- `group_mappings`: List of group names this group maps to\n- `ui_permissions`: Dictionary of UI permissions\n- `create_in_idp`: Whether to create the group in IdP (default: true)\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/import \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d @group-definition.json\n```",
        "operationId": "import_group_definition_api_servers_groups_import_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rate": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Rate Server",
        "description": "Save integer ratings to server.",
        "operationId": "rate_server_api_servers__path__rate_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__server_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rating": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Rating",
        "description": "Get server rating information.",
        "operationId": "get_server_rating_api_servers__path__rating_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/security-scan": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Security Scan",
        "description": "Get security scan results for a server.\n\nReturns the latest security scan results for the specified server,\nincluding threat analysis, severity levels, and detailed findings.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges or access to the server\n\n**Path Parameters:**\n- `path` (required): Server path (e.g., /cloudflare-docs)\n\n**Response:**\nReturns security scan results with analysis_results and tool_results.\n\n**Example:**\n```bash\ncurl -X GET http://localhost/api/servers/cloudflare-docs/security-scan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "get_server_security_scan_api_servers__path__security_scan_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rescan": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Rescan Server",
        "description": "Trigger a manual security scan for a server.\n\nInitiates a new security scan for the specified server and returns\nthe results. This endpoint is useful for re-scanning servers after\nupdates or for on-demand security assessments.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges\n\n**Path Parameters:**\n- `path` (required): Server path (e.g., /cloudflare-docs)\n\n**Response:**\nReturns the newly generated security scan results.\n\n**Example:**\n```bash\ncurl -X POST http://localhost/api/servers/cloudflare-docs/rescan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "rescan_server_api_servers__path__rescan_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/tools/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Service Tools Api",
        "description": "Get tool list for a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as GET /tools/{service_path}\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Path Parameters:**\n- `service_path` (required): Service path (e.g., /myservice or /all for all services)\n\n**Response:**\nReturns the list of tools available on the service, filtered by user permissions.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/tools/myservice \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n\n# Get tools from all accessible services\ncurl -X GET https://registry.example.com/api/servers/tools/all \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "get_service_tools_api_api_servers_tools__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{service_path}/versions/{version}": {
      "delete": {
        "tags": [
          "Server Management"
        ],
        "summary": "Remove Server Version",
        "description": "Remove a version from a server.\n\nArgs:\n    service_path: Server path (URL encoded)\n    version: Version to remove\n\nReturns:\n    Success message",
        "operationId": "remove_server_version_api_servers__service_path__versions__version__delete",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{service_path}/versions/default": {
      "put": {
        "tags": [
          "Server Management"
        ],
        "summary": "Set Default Version",
        "description": "Set the default (latest) version for a server.\n\nArgs:\n    service_path: Server path (URL encoded)\n    version_data: Contains version to set as default\n\nReturns:\n    Success message",
        "operationId": "set_default_version_api_servers__service_path__versions_default_put",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetDefaultVersion"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{service_path}/versions": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Versions",
        "description": "Get all versions for a server.\n\nArgs:\n    service_path: Server path (URL encoded)\n\nReturns:\n    Version information",
        "operationId": "get_server_versions_api_servers__service_path__versions_get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/register": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Register Agent",
        "description": "Register a new A2A agent in the registry.\n\nRequires publish_agent scope/permission.\n\nArgs:\n    request: Agent registration request data\n    user_context: Authenticated user context\n\nReturns:\n    201 with agent card and registration metadata\n\nRaises:\n    HTTPException: 409 if path exists, 422 if validation fails, 403 if unauthorized",
        "operationId": "register_agent_api_agents_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentRegistrationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "List Agents",
        "description": "List all agents filtered by user permissions.\n\nArgs:\n    query: Optional search query\n    enabled_only: Only return enabled agents\n    visibility: Filter by visibility level\n    user_context: Authenticated user context\n\nReturns:\n    List of agent info objects",
        "operationId": "list_agents_api_agents_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query string",
              "title": "Query"
            },
            "description": "Search query string"
          },
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Show only enabled agents",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Show only enabled agents"
          },
          {
            "name": "visibility",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by visibility",
              "title": "Visibility"
            },
            "description": "Filter by visibility"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/health": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Check Agent Health",
        "description": "Perform a live /ping health check against an agent endpoint.",
        "operationId": "check_agent_health_api_agents__path__health_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rate": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Rate Agent",
        "description": "Save integer ratings to agent card.",
        "operationId": "rate_agent_api_agents__path__rate_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__agent_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rating": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent Rating",
        "description": "Get agent rating information.",
        "operationId": "get_agent_rating_api_agents__path__rating_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/toggle": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Toggle Agent",
        "description": "Enable or disable an agent.\n\nRequires toggle_service permission for the agent.\n\nArgs:\n    path: Agent path\n    enabled: New enabled state\n    user_context: Authenticated user context\n\nReturns:\n    Updated agent status\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "toggle_agent_api_agents__path__toggle_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          },
          {
            "name": "enabled",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean",
              "title": "Enabled"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent",
        "description": "Get a single agent by path.\n\nPublic agents are visible without special permissions.\nPrivate and group-restricted agents require authorization.\n\nArgs:\n    request: HTTP request object\n    path: Agent path\n    user_context: Authenticated user context\n\nReturns:\n    Complete agent card\n\nRaises:\n    HTTPException: 404 if not found, 403 if not authorized",
        "operationId": "get_agent_api_agents__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Update Agent",
        "description": "Update an existing agent card.\n\nRequires modify_service permission for the agent.\nUser must be agent owner or admin.\n\nArgs:\n    path: Agent path\n    request: Updated agent data\n    user_context: Authenticated user context\n\nReturns:\n    Updated agent card\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "update_agent_api_agents__path__put",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentRegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Delete Agent",
        "description": "Delete an agent from the registry.\n\nRequires admin permission, delete_agent UI permission, or agent ownership.\n\nArgs:\n    path: Agent path\n    user_context: Authenticated user context\n\nReturns:\n    204 No Content\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "delete_agent_api_agents__path__delete",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/discover": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Discover Agents By Skills",
        "description": "Discover agents by required skills.\n\nReturns agents that have the specified skills, ranked by relevance.\n\nArgs:\n    skills: Required skill names or IDs\n    tags: Optional tag filters\n    max_results: Maximum number of results\n    user_context: Authenticated user context\n\nReturns:\n    List of matching agents with relevance scores\n\nRaises:\n    HTTPException: 400 if no skills provided",
        "operationId": "discover_agents_by_skills_api_agents_discover_post",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Body_discover_agents_by_skills_api_agents_discover_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/discover/semantic": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Discover Agents Semantic",
        "description": "Discover agents using natural language semantic search.\n\nUses search repository (FAISS or DocumentDB) to find agents matching the query intent.\n\nArgs:\n    query: Natural language query describing needed capabilities\n    max_results: Maximum number of results\n    user_context: Authenticated user context\n    search_repo: Search repository dependency\n\nReturns:\n    List of matching agents with relevance scores\n\nRaises:\n    HTTPException: 400 if query is empty",
        "operationId": "discover_agents_semantic_api_agents_discover_semantic_post",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/security-scan": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent Security Scan",
        "description": "Get security scan results for an A2A agent.\n\nReturns the latest security scan results for the specified agent,\nincluding threat analysis, severity levels, and detailed findings\nfrom YARA, specification validation, and heuristic analyzers.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges or access to the agent\n\n**Path Parameters:**\n- `path` (required): Agent path (e.g., /code-reviewer)\n\n**Response:**\nReturns security scan results with analysis_results and findings.\n\n**Example:**\n```bash\ncurl -X GET http://localhost/api/agents/code-reviewer/security-scan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "get_agent_security_scan_api_agents__path__security_scan_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rescan": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Rescan Agent",
        "description": "Trigger a manual security scan for an A2A agent.\n\nInitiates a new security scan for the specified agent and returns\nthe results. This endpoint is useful for re-scanning agents after\nupdates or for on-demand security assessments.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges\n\n**Path Parameters:**\n- `path` (required): Agent path (e.g., /code-reviewer)\n\n**Response:**\nReturns the newly generated security scan results.\n\n**Example:**\n```bash\ncurl -X POST http://localhost/api/agents/code-reviewer/rescan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "rescan_agent_api_agents__path__rescan_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users": {
      "get": {
        "tags": [
          "Management API"
        ],
        "summary": "Management List Users",
        "description": "List users from the configured identity provider (admin only).",
        "operationId": "management_list_users_api_management_iam_users_get",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 500,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/m2m": {
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create M2M User",
        "description": "Create a service account client and return its credentials (admin only).",
        "operationId": "management_create_m2m_user_api_management_iam_users_m2m_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/M2MAccountRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/human": {
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create Human User",
        "description": "Create a human user and assign groups (admin only).",
        "operationId": "management_create_human_user_api_management_iam_users_human_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HumanUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/{username}": {
      "delete": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Delete User",
        "description": "Delete a user by username (admin only).",
        "operationId": "management_delete_user_api_management_iam_users__username__delete",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Username"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/groups": {
      "get": {
        "tags": [
          "Management API"
        ],
        "summary": "Management List Groups",
        "description": "List IAM groups from the configured identity provider (admin only).",
        "operationId": "management_list_groups_api_management_iam_groups_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create Group",
        "description": "Create a new group in the identity provider and MongoDB (admin only).\n\nThis creates the group in both:\n1. The configured identity provider (Keycloak or Entra ID)\n2. MongoDB scopes collection for authorization",
        "operationId": "management_create_group_api_management_iam_groups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/groups/{group_name}": {
      "delete": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Delete Group",
        "description": "Delete a group from the identity provider and MongoDB (admin only).\n\nThis deletes the group from both:\n1. The configured identity provider (Keycloak or Entra ID)\n2. MongoDB scopes collection",
        "operationId": "management_delete_group_api_management_iam_groups__group_name__delete",
        "parameters": [
          {
            "name": "group_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Group Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupDeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/search/semantic": {
      "post": {
        "tags": [
          "Semantic Search"
        ],
        "summary": "Unified semantic search for MCP servers and tools",
        "description": "Run a semantic search against MCP servers (and their tools) using FAISS embeddings.",
        "operationId": "semantic_search_api_search_semantic_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SemanticSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SemanticSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config": {
      "get": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Get federation configuration",
        "description": "Get federation configuration by ID.\n\nArgs:\n    config_id: Configuration ID (default: \"default\")\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Federation configuration\n\nRaises:\n    404: Configuration not found",
        "operationId": "get_federation_config_api_federation_config_get",
        "parameters": [
          {
            "name": "config_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Config Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Federation Config Api Federation Config Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Create or update federation configuration",
        "description": "Create or update federation configuration.\n\nArgs:\n    config: Federation configuration to save\n    config_id: Configuration ID (default: \"default\")\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Saved configuration\n\nExample:\n    ```json\n    {\n      \"anthropic\": {\n        \"enabled\": true,\n        \"endpoint\": \"https://registry.modelcontextprotocol.io\",\n        \"sync_on_startup\": false,\n        \"servers\": [\n          {\"name\": \"io.github.jgador/websharp\"},\n          {\"name\": \"modelcontextprotocol/filesystem\"}\n        ]\n      },\n      \"asor\": {\n        \"enabled\": false,\n        \"endpoint\": \"\",\n        \"auth_env_var\": \"ASOR_ACCESS_TOKEN\",\n        \"sync_on_startup\": false,\n        \"agents\": []\n      }\n    }\n    ```",
        "operationId": "save_federation_config_api_federation_config_post",
        "parameters": [
          {
            "name": "config_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Config Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FederationConfig"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Save Federation Config Api Federation Config Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config/{config_id}": {
      "put": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Update specific federation configuration",
        "description": "Update a specific federation configuration.\n\nArgs:\n    config_id: Configuration ID to update\n    config: Updated federation configuration\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Updated configuration",
        "operationId": "update_federation_config_api_federation_config__config_id__put",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FederationConfig"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Update Federation Config Api Federation Config  Config Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Delete federation configuration",
        "description": "Delete a federation configuration.\n\nArgs:\n    config_id: Configuration ID to delete\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Deletion confirmation\n\nRaises:\n    404: Configuration not found",
        "operationId": "delete_federation_config_api_federation_config__config_id__delete",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Delete Federation Config Api Federation Config  Config Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/configs": {
      "get": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "List all federation configurations",
        "description": "List all federation configurations.\n\nArgs:\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    List of configuration summaries with id, created_at, updated_at",
        "operationId": "list_federation_configs_api_federation_configs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Federation Configs Api Federation Configs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config/{config_id}/anthropic/servers": {
      "post": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Add Anthropic server to config",
        "description": "Add a server to Anthropic federation configuration.\n\nArgs:\n    config_id: Configuration ID\n    server_name: Server name to add (e.g., \"io.github.jgador/websharp\")\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Updated configuration",
        "operationId": "add_anthropic_server_api_federation_config__config_id__anthropic_servers_post",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          },
          {
            "name": "server_name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Server Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Add Anthropic Server Api Federation Config  Config Id  Anthropic Servers Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config/{config_id}/anthropic/servers/{server_name}": {
      "delete": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Remove Anthropic server from config",
        "description": "Remove a server from Anthropic federation configuration.\n\nArgs:\n    config_id: Configuration ID\n    server_name: Server name to remove\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Updated configuration",
        "operationId": "remove_anthropic_server_api_federation_config__config_id__anthropic_servers__server_name__delete",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          },
          {
            "name": "server_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Server Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Remove Anthropic Server Api Federation Config  Config Id  Anthropic Servers  Server Name  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config/{config_id}/asor/agents": {
      "post": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Add ASOR agent to config",
        "description": "Add an agent to ASOR federation configuration.\n\nArgs:\n    config_id: Configuration ID\n    agent_id: Agent ID to add (e.g., \"aws_assistant\")\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Updated configuration",
        "operationId": "add_asor_agent_api_federation_config__config_id__asor_agents_post",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          },
          {
            "name": "agent_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Add Asor Agent Api Federation Config  Config Id  Asor Agents Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/config/{config_id}/asor/agents/{agent_id}": {
      "delete": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Remove ASOR agent from config",
        "description": "Remove an agent from ASOR federation configuration.\n\nArgs:\n    config_id: Configuration ID\n    agent_id: Agent ID to remove\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Updated configuration",
        "operationId": "remove_asor_agent_api_federation_config__config_id__asor_agents__agent_id__delete",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Config Id"
            }
          },
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Remove Asor Agent Api Federation Config  Config Id  Asor Agents  Agent Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/sync": {
      "post": {
        "tags": [
          "federation",
          "federation"
        ],
        "summary": "Trigger manual federation sync",
        "description": "Manually trigger federation sync to import servers/agents from configured sources.\n\nArgs:\n    config_id: Configuration ID to use for sync (default: \"default\")\n    source: Optional source filter (\"anthropic\" or \"asor\"). If None, syncs all enabled sources.\n    user_context: Authenticated user context\n    repo: Federation config repository\n\nReturns:\n    Sync results with counts of synced items\n\nExample:\n    Sync all enabled federations:\n    ```bash\n    POST /api/federation/sync\n    ```\n\n    Sync only Anthropic:\n    ```bash\n    POST /api/federation/sync?source=anthropic\n    ```",
        "operationId": "sync_federation_api_federation_sync_post",
        "parameters": [
          {
            "name": "config_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Config Id"
            }
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Sync Federation Api Federation Sync Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/discovery": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Discovery endpoint for coding assistants",
        "description": "Discovery endpoint optimized for coding assistants.\n\nReturns lightweight metadata for efficient loading.",
        "operationId": "discover_skills_api_skills_discovery_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query",
              "title": "Query"
            },
            "description": "Search query"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tags",
              "title": "Tags"
            },
            "description": "Filter by tags"
          },
          {
            "name": "compatibility",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by compatibility",
              "title": "Compatibility"
            },
            "description": "Filter by compatibility"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscoveryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "List all skills",
        "description": "List all registered skills with visibility filtering.",
        "operationId": "list_skills_api_skills_get",
        "parameters": [
          {
            "name": "include_disabled",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include disabled skills",
              "default": false,
              "title": "Include Disabled"
            },
            "description": "Include disabled skills"
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag",
              "title": "Tag"
            },
            "description": "Filter by tag"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response List Skills Api Skills Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Register a new skill",
        "description": "Register a new skill in the registry.",
        "operationId": "register_skill_api_skills_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkillRegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillCard"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/parse-skill-md": {
      "post": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Parse SKILL.md content from URL",
        "description": "Parse SKILL.md content and extract metadata.\n\nReturns name, description, version, and tags from the SKILL.md file.\nUseful for auto-populating the skill registration form.",
        "operationId": "parse_skill_md_api_skills_parse_skill_md_post",
        "parameters": [
          {
            "name": "url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "URL to SKILL.md file",
              "title": "Url"
            },
            "description": "URL to SKILL.md file"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Parse Skill Md Api Skills Parse Skill Md Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/search": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Search skills",
        "description": "Search for skills by name, description, or tags.\n\nReturns skills matching the query with basic relevance scoring.",
        "operationId": "search_skills_api_skills_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Search query",
              "title": "Q"
            },
            "description": "Search query"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated tags to filter by",
              "title": "Tags"
            },
            "description": "Comma-separated tags to filter by"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Search Skills Api Skills Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/health": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Check skill health",
        "description": "Check skill health by performing HEAD request to SKILL.md URL.\n\nReturns health status, HTTP status code, and response time.",
        "operationId": "check_skill_health_api_skills__skill_path__health_get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Check Skill Health Api Skills  Skill Path  Health Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/content": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Get SKILL.md content",
        "description": "Fetch SKILL.md content from the raw URL.\n\nThis endpoint proxies the SKILL.md content to avoid CORS issues\nwhen the frontend tries to fetch from GitHub directly.",
        "operationId": "get_skill_content_api_skills__skill_path__content_get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Skill Content Api Skills  Skill Path  Content Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/tools": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Get required tools with availability",
        "description": "Get required tools for a skill with availability status.",
        "operationId": "get_skill_tools_api_skills__skill_path__tools_get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolValidationResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/rating": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Get skill rating",
        "description": "Get rating information for a skill.\n\nReturns the average rating and list of individual ratings.",
        "operationId": "get_skill_rating_api_skills__skill_path__rating_get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Skill Rating Api Skills  Skill Path  Rating Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/security-scan": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Get skill security scan results",
        "description": "Get the latest security scan results for a skill.",
        "operationId": "get_skill_security_scan_api_skills__skill_path__security_scan_get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path",
              "title": "Skill Path"
            },
            "description": "Skill path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Skill Security Scan Api Skills  Skill Path  Security Scan Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/rescan": {
      "post": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Trigger manual security scan",
        "description": "Trigger a manual security scan for a skill. Admin only.",
        "operationId": "rescan_skill_api_skills__skill_path__rescan_post",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path",
              "title": "Skill Path"
            },
            "description": "Skill path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Rescan Skill Api Skills  Skill Path  Rescan Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}": {
      "get": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Get a skill by path",
        "description": "Get a specific skill by its path.",
        "operationId": "get_skill_api_skills__skill_path__get",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillCard"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Update a skill",
        "description": "Update an existing skill.",
        "operationId": "update_skill_api_skills__skill_path__put",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkillRegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillCard"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Delete a skill",
        "description": "Delete a skill from the registry.",
        "operationId": "delete_skill_api_skills__skill_path__delete",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/toggle": {
      "post": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Toggle skill enabled state",
        "description": "Toggle a skill's enabled state.",
        "operationId": "toggle_skill_api_skills__skill_path__toggle_post",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleStateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Toggle Skill Api Skills  Skill Path  Toggle Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/skills/{skill_path}/rate": {
      "post": {
        "tags": [
          "skills",
          "skills"
        ],
        "summary": "Rate a skill",
        "description": "Submit a rating for a skill.\n\nUsers can rate skills from 1-5 stars. Each user can only have one\nrating per skill - submitting a new rating updates the previous one.",
        "operationId": "rate_skill_api_skills__skill_path__rate_post",
        "parameters": [
          {
            "name": "skill_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Skill path or name",
              "title": "Skill Path"
            },
            "description": "Skill path or name"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__skill_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Rate Skill Api Skills  Skill Path  Rate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/config/full": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Get full registry configuration",
        "description": "Returns all configuration parameters grouped by category. Admin only.",
        "operationId": "get_full_config_api_config_full_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Full Config Api Config Full Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/config": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Get registry configuration",
        "description": "Returns the current deployment mode, registry mode, and enabled features",
        "operationId": "get_config_api_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Config Api Config Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/config/export": {
      "get": {
        "tags": [
          "config"
        ],
        "summary": "Export registry configuration",
        "description": "Export configuration in various formats. Admin only.",
        "operationId": "export_config_api_config_export_get",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ExportFormat",
              "description": "Export format: env, json, tfvars, yaml",
              "default": "env"
            },
            "description": "Export format: env, json, tfvars, yaml"
          },
          {
            "name": "include_sensitive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include sensitive values (use with caution)",
              "default": false,
              "title": "Include Sensitive"
            },
            "description": "Include sensitive values (use with caution)"
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers": {
      "get": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "List all virtual servers",
        "description": "List all virtual servers with summary information.",
        "operationId": "list_virtual_servers_api_virtual_servers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Virtual Servers Api Virtual Servers Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Create a virtual server",
        "description": "Create a new virtual MCP server.\n\nRequires admin or server-modify permissions.",
        "operationId": "create_virtual_server_api_virtual_servers_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVirtualServerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualServerConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers/{vs_path}/tools": {
      "get": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "List resolved tools for a virtual server",
        "description": "Get the resolved tool list for a virtual server.\n\nReturns all tools with their final names, sources, and metadata.",
        "operationId": "get_virtual_server_tools_api_virtual_servers__vs_path__tools_get",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Virtual Server Tools Api Virtual Servers  Vs Path  Tools Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers/{vs_path}/rate": {
      "post": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Rate a virtual server",
        "description": "Submit or update a rating for a virtual server.\n\nRequires authentication. Each user can have one rating per server.",
        "operationId": "rate_virtual_server_api_virtual_servers__vs_path__rate_post",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__virtual_server_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Rate Virtual Server Api Virtual Servers  Vs Path  Rate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers/{vs_path}/rating": {
      "get": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Get virtual server rating",
        "description": "Get rating information for a virtual server.",
        "operationId": "get_virtual_server_rating_api_virtual_servers__vs_path__rating_get",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Virtual Server Rating Api Virtual Servers  Vs Path  Rating Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers/{vs_path}": {
      "get": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Get a virtual server by path",
        "description": "Get detailed configuration for a virtual server.",
        "operationId": "get_virtual_server_api_virtual_servers__vs_path__get",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualServerConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Update a virtual server",
        "description": "Update an existing virtual MCP server.\n\nRequires admin or server-modify permissions.",
        "operationId": "update_virtual_server_api_virtual_servers__vs_path__put",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateVirtualServerRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualServerConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Delete a virtual server",
        "description": "Delete a virtual MCP server.\n\nRequires admin or server-modify permissions.",
        "operationId": "delete_virtual_server_api_virtual_servers__vs_path__delete",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/virtual-servers/{vs_path}/toggle": {
      "post": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Toggle virtual server enabled state",
        "description": "Enable or disable a virtual MCP server.\n\nRequires admin or server-modify permissions.\nEnabling triggers nginx configuration regeneration.",
        "operationId": "toggle_virtual_server_api_virtual_servers__vs_path__toggle_post",
        "parameters": [
          {
            "name": "vs_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Virtual server path",
              "title": "Vs Path"
            },
            "description": "Virtual server path"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleVirtualServerRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Toggle Virtual Server Api Virtual Servers  Vs Path  Toggle Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tool-catalog": {
      "get": {
        "tags": [
          "virtual-servers"
        ],
        "summary": "Browse all available tools across servers",
        "description": "Get the global tool catalog from all enabled MCP servers.\n\nReturns tools the authenticated user has access to, filtered by\ntheir scopes. Includes source server, description, input schema,\nand available versions.",
        "operationId": "get_tool_catalog_api_tool_catalog_get",
        "parameters": [
          {
            "name": "server_path",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by server path",
              "title": "Server Path"
            },
            "description": "Filter by server path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Tool Catalog Api Tool Catalog Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/sessions/client": {
      "post": {
        "summary": "Create Client Session",
        "description": "Create a new client session and return the generated session ID.\n\nCalled by Lua router on MCP 'initialize' requests.\nGenerates a vs-<uuid4> client session ID, stores it in MongoDB,\nand returns it to be set as the Mcp-Session-Id response header.",
        "operationId": "create_client_session_api_internal_sessions_client_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClientSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateClientSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/sessions/client/{client_session_id}": {
      "get": {
        "summary": "Validate Client Session",
        "description": "Validate that a client session exists.\n\nReturns 200 if valid, 404 if not found or expired.\nAlso bumps last_used_at to keep the session alive.",
        "operationId": "validate_client_session_api_internal_sessions_client__client_session_id__get",
        "parameters": [
          {
            "name": "client_session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/sessions/backend/{session_key}": {
      "get": {
        "summary": "Get Backend Session",
        "description": "Look up a backend session by compound key.\n\nThe session_key is '<client_session_id>:<backend_key>'.\nReturns the backend_session_id if found, 404 otherwise.\nAlso bumps last_used_at atomically.",
        "operationId": "get_backend_session_api_internal_sessions_backend__session_key__get",
        "parameters": [
          {
            "name": "session_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetBackendSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "summary": "Store Backend Session",
        "description": "Store or update a backend session.\n\nThe session_key is '<client_session_id>:<backend_key>'.\nUpserts the session document in MongoDB.",
        "operationId": "store_backend_session_api_internal_sessions_backend__session_key__put",
        "parameters": [
          {
            "name": "session_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreSessionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "summary": "Delete Backend Session",
        "description": "Delete a stale backend session.\n\nCalled by Lua router when a backend rejects a cached session ID\n(e.g., after backend restart). The router will then re-initialize.",
        "operationId": "delete_backend_session_api_internal_sessions_backend__session_key__delete",
        "parameters": [
          {
            "name": "session_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/health/ws/health_status": {
      "get": {
        "tags": [
          "Health Monitoring"
        ],
        "summary": "Health Status Http",
        "description": "HTTP endpoint that returns the same health status data as the WebSocket endpoint.\n\nThis handles cases where health checks are done via HTTP GET instead of WebSocket.",
        "operationId": "health_status_http_api_health_ws_health_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/health/ws/stats": {
      "get": {
        "tags": [
          "Health Monitoring"
        ],
        "summary": "Websocket Stats",
        "description": "Get WebSocket performance statistics for monitoring.",
        "operationId": "websocket_stats_api_health_ws_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/health": {
      "get": {
        "tags": [
          "federation"
        ],
        "summary": "Federation Health",
        "description": "Federation health check endpoint.\n\nThis endpoint does NOT require authentication and is used by peer registries\nto check if the federation API is available before attempting sync.\n\nReturns:\n    200 OK with status message",
        "operationId": "federation_health_api_federation_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/servers": {
      "get": {
        "tags": [
          "federation"
        ],
        "summary": "Export Servers",
        "description": "Export servers for federation sync.\n\nReturns servers with visibility filtering based on the peer's group membership.\nSupports pagination and incremental sync via generation numbers.\n\n**Authentication:** Requires JWT with 'federation-service' scope\n\n**Visibility filtering:**\n- public: Returned to all peers\n- group-restricted: Returned only if peer is in allowed_groups\n- internal: NEVER returned\n\n**Pagination:**\n- Use limit and offset for pagination\n- Check has_more to determine if more pages exist\n\n**Incremental sync:**\n- Use since_generation to get only changed items\n- Track sync_generation from response for next sync\n\nArgs:\n    limit: Maximum items per page\n    offset: Number of items to skip\n    since_generation: Minimum generation for incremental sync\n    user_context: Authenticated peer context\n\nReturns:\n    FederationExportResponse with filtered servers\n\nRaises:\n    HTTPException: 401 if unauthenticated, 403 if missing federation scope",
        "operationId": "export_servers_api_federation_servers_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum items per page (default 100, max 1000)",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum items per page (default 100, max 1000)"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip (default 0)",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip (default 0)"
          },
          {
            "name": "since_generation",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Return only items with generation > this value (for incremental sync)",
              "title": "Since Generation"
            },
            "description": "Return only items with generation > this value (for incremental sync)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FederationExportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/agents": {
      "get": {
        "tags": [
          "federation"
        ],
        "summary": "Export Agents",
        "description": "Export agents for federation sync.\n\nReturns agents with visibility filtering based on the peer's group membership.\nSupports pagination and incremental sync via generation numbers.\n\n**Authentication:** Requires JWT with 'federation-service' scope\n\n**Visibility filtering:**\n- public: Returned to all peers\n- group-restricted: Returned only if peer is in allowed_groups\n- internal: NEVER returned\n\n**Pagination:**\n- Use limit and offset for pagination\n- Check has_more to determine if more pages exist\n\n**Incremental sync:**\n- Use since_generation to get only changed items\n- Track sync_generation from response for next sync\n\nArgs:\n    limit: Maximum items per page\n    offset: Number of items to skip\n    since_generation: Minimum generation for incremental sync\n    user_context: Authenticated peer context\n\nReturns:\n    FederationExportResponse with filtered agents\n\nRaises:\n    HTTPException: 401 if unauthenticated, 403 if missing federation scope",
        "operationId": "export_agents_api_federation_agents_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum items per page (default 100, max 1000)",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum items per page (default 100, max 1000)"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip (default 0)",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip (default 0)"
          },
          {
            "name": "since_generation",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Return only items with generation > this value (for incremental sync)",
              "title": "Since Generation"
            },
            "description": "Return only items with generation > this value (for incremental sync)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FederationExportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/federation/security-scans": {
      "get": {
        "tags": [
          "federation"
        ],
        "summary": "Export Security Scans",
        "description": "Export security scan results for federation sync.\n\nReturns security scan results only for servers that are visible to the peer\nbased on the server's visibility settings. This ensures peers only receive\nsecurity information for servers they can access.\n\n**Authentication:** Requires JWT with 'federation-service' or 'federation/read' scope\n\n**Visibility filtering:**\n- Only returns scans for servers with visibility=public\n- Returns scans for group-restricted servers only if peer is in allowed_groups\n- Never returns scans for internal servers\n\n**Pagination:**\n- Use limit and offset for pagination\n- Check has_more to determine if more pages exist\n\nArgs:\n    limit: Maximum items per page\n    offset: Number of items to skip\n    user_context: Authenticated peer context\n\nReturns:\n    FederationExportResponse with security scan results\n\nRaises:\n    HTTPException: 401 if unauthenticated, 403 if missing federation scope",
        "operationId": "export_security_scans_api_federation_security_scans_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum items per page (default 100, max 1000)",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum items per page (default 100, max 1000)"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip (default 0)",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip (default 0)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FederationExportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "List Peers",
        "description": "List all peer registries with optional filtering by enabled status.\n\nArgs:\n    enabled: If True, return only enabled peers. If False, return only disabled peers.\n            If None, return all peers.\n    user_context: Authenticated user context\n\nReturns:\n    List of peer registry configurations\n\nExample:\n    GET /api/peers\n    GET /api/peers?enabled=true",
        "operationId": "list_peers_api_peers_get",
        "parameters": [
          {
            "name": "enabled",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PeerRegistryConfig"
                  },
                  "title": "Response List Peers Api Peers Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "peer-management"
        ],
        "summary": "Create Peer",
        "description": "Create a new peer registry configuration.\n\nArgs:\n    config: Peer registry configuration to create\n    user_context: Authenticated user context\n\nReturns:\n    Created peer registry configuration\n\nRaises:\n    HTTPException: 409 if peer_id already exists\n    HTTPException: 400 if validation fails\n\nExample:\n    POST /api/peers\n    {\n        \"peer_id\": \"central-registry\",\n        \"name\": \"Central MCP Registry\",\n        \"endpoint\": \"https://central.registry.company.com\",\n        \"enabled\": true,\n        \"sync_mode\": \"all\",\n        \"sync_interval_minutes\": 30\n    }",
        "operationId": "create_peer_api_peers_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PeerRegistryConfig"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerRegistryConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/sync": {
      "post": {
        "tags": [
          "peer-management"
        ],
        "summary": "Sync All Peers",
        "description": "Trigger synchronization for all (or enabled) peers.\n\nArgs:\n    enabled_only: If True, only sync enabled peers (default: True)\n    user_context: Authenticated user context\n\nReturns:\n    Dictionary mapping peer_id to SyncResult\n\nExample:\n    POST /api/peers/sync\n    POST /api/peers/sync?enabled_only=false",
        "operationId": "sync_all_peers_api_peers_sync_post",
        "parameters": [
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "If True, only sync enabled peers",
              "default": true,
              "title": "Enabled Only"
            },
            "description": "If True, only sync enabled peers"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/components/schemas/SyncResult"
                  },
                  "title": "Response Sync All Peers Api Peers Sync Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/connections/all": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get All Connections",
        "description": "Get all federation connection history.\n\nReturns a list of all federation connections from all peers, useful for\nmonitoring overall federation activity.\n\nArgs:\n    since: Only return connections after this timestamp\n    limit: Maximum entries to return (default: 100, max: 1000)\n    user_context: Authenticated user context\n\nReturns:\n    List of all connection logs\n\nExample:\n    GET /api/peers/connections/all\n    GET /api/peers/connections/all?limit=50",
        "operationId": "get_all_connections_api_peers_connections_all_get",
        "parameters": [
          {
            "name": "since",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Only return connections after this timestamp",
              "title": "Since"
            },
            "description": "Only return connections after this timestamp"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum entries to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum entries to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FederationConnectionLog"
                  },
                  "title": "Response Get All Connections Api Peers Connections All Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/shared-resources": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get Shared Resources",
        "description": "Get summary of resources shared with each peer.\n\nReturns statistics about what has been shared with each peer,\nincluding connection counts and resource totals.\n\nArgs:\n    user_context: Authenticated user context\n\nReturns:\n    Dictionary mapping peer_id to PeerSyncSummary\n\nExample:\n    GET /api/peers/shared-resources",
        "operationId": "get_shared_resources_api_peers_shared_resources_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "$ref": "#/components/schemas/PeerSyncSummary"
                  },
                  "type": "object",
                  "title": "Response Get Shared Resources Api Peers Shared Resources Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get Peer",
        "description": "Get a specific peer by ID.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    Peer registry configuration\n\nRaises:\n    HTTPException: 404 if peer not found\n\nExample:\n    GET /api/peers/central-registry",
        "operationId": "get_peer_api_peers__peer_id__get",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerRegistryConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "peer-management"
        ],
        "summary": "Update Peer",
        "description": "Update an existing peer configuration.\n\nArgs:\n    peer_id: Peer identifier\n    updates: Dictionary of fields to update\n    user_context: Authenticated user context\n\nReturns:\n    Updated peer registry configuration\n\nRaises:\n    HTTPException: 404 if peer not found\n    HTTPException: 400 if validation fails\n\nExample:\n    PUT /api/peers/central-registry\n    {\n        \"enabled\": false,\n        \"sync_interval_minutes\": 60\n    }",
        "operationId": "update_peer_api_peers__peer_id__put",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Updates"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerRegistryConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "peer-management"
        ],
        "summary": "Delete Peer",
        "description": "Delete a peer registry configuration.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nRaises:\n    HTTPException: 404 if peer not found\n\nExample:\n    DELETE /api/peers/central-registry",
        "operationId": "delete_peer_api_peers__peer_id__delete",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/sync": {
      "post": {
        "tags": [
          "peer-management"
        ],
        "summary": "Sync Peer",
        "description": "Trigger synchronization for a specific peer.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    Sync result with statistics\n\nRaises:\n    HTTPException: 404 if peer not found\n    HTTPException: 400 if peer is disabled\n\nExample:\n    POST /api/peers/central-registry/sync",
        "operationId": "sync_peer_api_peers__peer_id__sync_post",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/status": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get Peer Status",
        "description": "Get sync status for a specific peer.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    Peer sync status with health and history\n\nRaises:\n    HTTPException: 404 if peer not found\n\nExample:\n    GET /api/peers/central-registry/status",
        "operationId": "get_peer_status_api_peers__peer_id__status_get",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerSyncStatus"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/enable": {
      "post": {
        "tags": [
          "peer-management"
        ],
        "summary": "Enable Peer",
        "description": "Enable a peer registry.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    Updated peer registry configuration\n\nRaises:\n    HTTPException: 404 if peer not found\n\nExample:\n    POST /api/peers/central-registry/enable",
        "operationId": "enable_peer_api_peers__peer_id__enable_post",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerRegistryConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/disable": {
      "post": {
        "tags": [
          "peer-management"
        ],
        "summary": "Disable Peer",
        "description": "Disable a peer registry.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    Updated peer registry configuration\n\nRaises:\n    HTTPException: 404 if peer not found\n\nExample:\n    POST /api/peers/central-registry/disable",
        "operationId": "disable_peer_api_peers__peer_id__disable_post",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerRegistryConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/connections": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get Peer Connections",
        "description": "Get connection history for a specific peer.\n\nReturns a list of federation connections from this peer, useful for\ndebugging and monitoring federation sync operations.\n\nArgs:\n    peer_id: Peer identifier\n    since: Only return connections after this timestamp\n    limit: Maximum entries to return (default: 100, max: 1000)\n    user_context: Authenticated user context\n\nReturns:\n    List of connection logs for the peer\n\nExample:\n    GET /api/peers/central-registry/connections\n    GET /api/peers/central-registry/connections?since=2024-01-01T00:00:00Z",
        "operationId": "get_peer_connections_api_peers__peer_id__connections_get",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          },
          {
            "name": "since",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Only return connections after this timestamp",
              "title": "Since"
            },
            "description": "Only return connections after this timestamp"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum entries to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum entries to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FederationConnectionLog"
                  },
                  "title": "Response Get Peer Connections Api Peers  Peer Id  Connections Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/peers/{peer_id}/shared-resources": {
      "get": {
        "tags": [
          "peer-management"
        ],
        "summary": "Get Peer Shared Resources",
        "description": "Get summary of resources shared with a specific peer.\n\nArgs:\n    peer_id: Peer identifier\n    user_context: Authenticated user context\n\nReturns:\n    PeerSyncSummary for the specified peer\n\nRaises:\n    HTTPException: 404 if peer has no connection history\n\nExample:\n    GET /api/peers/central-registry/shared-resources",
        "operationId": "get_peer_shared_resources_api_peers__peer_id__shared_resources_get",
        "parameters": [
          {
            "name": "peer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Peer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PeerSyncSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/audit/events": {
      "get": {
        "tags": [
          "Audit Logs",
          "Audit Logs"
        ],
        "summary": "Get Audit Events",
        "description": "Query recent audit events from MongoDB.\n\nReturns paginated audit events matching the specified filters.\nAll filters are optional and can be combined.\n\nRequires admin access.",
        "operationId": "get_audit_events_api_audit_events_get",
        "parameters": [
          {
            "name": "stream",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(registry_api|mcp_access)$",
              "description": "Log stream type",
              "default": "registry_api",
              "title": "Stream"
            },
            "description": "Log stream type"
          },
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range (ISO 8601)",
              "title": "From"
            },
            "description": "Start of time range (ISO 8601)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range (ISO 8601)",
              "title": "To"
            },
            "description": "End of time range (ISO 8601)"
          },
          {
            "name": "username",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by username",
              "title": "Username"
            },
            "description": "Filter by username"
          },
          {
            "name": "operation",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by operation type",
              "title": "Operation"
            },
            "description": "Filter by operation type"
          },
          {
            "name": "resource_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by resource type",
              "title": "Resource Type"
            },
            "description": "Filter by resource type"
          },
          {
            "name": "resource_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by resource ID",
              "title": "Resource Id"
            },
            "description": "Filter by resource ID"
          },
          {
            "name": "status_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 599,
                  "minimum": 100
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum HTTP status code",
              "title": "Status Min"
            },
            "description": "Minimum HTTP status code"
          },
          {
            "name": "status_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 599,
                  "minimum": 100
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum HTTP status code",
              "title": "Status Max"
            },
            "description": "Maximum HTTP status code"
          },
          {
            "name": "auth_decision",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(ALLOW|DENY|NOT_REQUIRED)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by authorization decision",
              "title": "Auth Decision"
            },
            "description": "Filter by authorization decision"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Maximum events per page",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum events per page"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of events to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of events to skip"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1,
              "minimum": -1,
              "description": "Sort order: -1 for descending (newest first), 1 for ascending (oldest first)",
              "default": -1,
              "title": "Sort Order"
            },
            "description": "Sort order: -1 for descending (newest first), 1 for ascending (oldest first)"
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditEventsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/audit/events/{request_id}": {
      "get": {
        "tags": [
          "Audit Logs",
          "Audit Logs"
        ],
        "summary": "Get Audit Event",
        "description": "Get a single audit event by request_id.\n\nReturns the complete audit event record including all fields.\n\nRequires admin access.",
        "operationId": "get_audit_event_api_audit_events__request_id__get",
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Audit Event Api Audit Events  Request Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/audit/export": {
      "get": {
        "tags": [
          "Audit Logs",
          "Audit Logs"
        ],
        "summary": "Export Audit Events",
        "description": "Export filtered audit events as JSONL or CSV file.\n\nReturns a downloadable file containing audit events matching\nthe specified filters.\n\nRequires admin access.",
        "operationId": "export_audit_events_api_audit_export_get",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(jsonl|csv)$",
              "description": "Export format: jsonl or csv",
              "default": "jsonl",
              "title": "Format"
            },
            "description": "Export format: jsonl or csv"
          },
          {
            "name": "stream",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(registry_api|mcp_access)$",
              "description": "Log stream type",
              "default": "registry_api",
              "title": "Stream"
            },
            "description": "Log stream type"
          },
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start of time range (ISO 8601)",
              "title": "From"
            },
            "description": "Start of time range (ISO 8601)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End of time range (ISO 8601)",
              "title": "To"
            },
            "description": "End of time range (ISO 8601)"
          },
          {
            "name": "username",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by username",
              "title": "Username"
            },
            "description": "Filter by username"
          },
          {
            "name": "operation",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by operation type",
              "title": "Operation"
            },
            "description": "Filter by operation type"
          },
          {
            "name": "resource_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by resource type",
              "title": "Resource Type"
            },
            "description": "Filter by resource type"
          },
          {
            "name": "resource_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by resource ID",
              "title": "Resource Id"
            },
            "description": "Filter by resource ID"
          },
          {
            "name": "status_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 599,
                  "minimum": 100
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum HTTP status code",
              "title": "Status Min"
            },
            "description": "Minimum HTTP status code"
          },
          {
            "name": "status_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 599,
                  "minimum": 100
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum HTTP status code",
              "title": "Status Max"
            },
            "description": "Maximum HTTP status code"
          },
          {
            "name": "auth_decision",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(ALLOW|DENY|NOT_REQUIRED)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by authorization decision",
              "title": "Auth Decision"
            },
            "description": "Filter by authorization decision"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100000,
              "minimum": 1,
              "description": "Maximum events to export",
              "default": 10000,
              "title": "Limit"
            },
            "description": "Maximum events to export"
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "List MCP servers",
        "description": "Returns a paginated list of all registered MCP servers that the authenticated user can access.",
        "operationId": "list_servers_v0_1_servers_get",
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Pagination cursor",
              "title": "Cursor"
            },
            "description": "Pagination cursor"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 1000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum number of items",
              "title": "Limit"
            },
            "description": "Maximum number of items"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerList"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers/{serverName}/versions": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "List server versions",
        "description": "Returns all available versions for a specific MCP server.",
        "operationId": "list_server_versions_v0_1_servers__serverName__versions_get",
        "parameters": [
          {
            "name": "serverName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Servername"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerList"
                }
              }
            }
          },
          "404": {
            "description": "Server not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers/{serverName}/versions/{version}": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "Get server version details",
        "description": "Returns detailed information about a specific version of an MCP server. Use 'latest' to get the most recent version.",
        "operationId": "get_server_version_v0_1_servers__serverName__versions__version__get",
        "parameters": [
          {
            "name": "serverName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Servername"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerResponse"
                }
              }
            }
          },
          "404": {
            "description": "Server or version not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/.well-known/mcp-servers": {
      "get": {
        "tags": [
          "Discovery"
        ],
        "summary": "Get Wellknown Mcp Servers",
        "description": "Main endpoint handler for /.well-known/mcp-servers\nReturns JSON with all discoverable MCP servers",
        "operationId": "get_wellknown_mcp_servers__well_known_mcp_servers_get",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "User Context"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "summary": "Get Current User",
        "description": "Get current user information for React auth context",
        "operationId": "get_current_user_api_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Simple health check for load balancers and monitoring.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/version": {
      "get": {
        "summary": "Get Version",
        "description": "Get application version.",
        "operationId": "get_version_api_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/{full_path}": {
      "get": {
        "summary": "Serve React App",
        "description": "Serve React app for all non-API routes",
        "operationId": "serve_react_app__full_path__get",
        "parameters": [
          {
            "name": "full_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Full Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AgentRegistrationRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name",
            "description": "Agent name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Agent description",
            "default": ""
          },
          "url": {
            "type": "string",
            "minLength": 1,
            "title": "Url",
            "description": "Agent endpoint URL"
          },
          "path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Path",
            "description": "Registry path (optional - auto-generated if not provided)"
          },
          "protocolVersion": {
            "type": "string",
            "title": "Protocolversion",
            "description": "A2A protocol version",
            "default": "1.0"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Agent version"
          },
          "provider": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider",
            "description": "Agent provider information {organization, url}"
          },
          "securitySchemes": {
            "anyOf": [
              {
                "additionalProperties": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Securityschemes",
            "description": "Security schemes configuration"
          },
          "skills": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skills",
            "description": "Agent skills"
          },
          "streaming": {
            "type": "boolean",
            "title": "Streaming",
            "description": "Supports streaming responses",
            "default": false
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags or list of tags",
            "default": ""
          },
          "license": {
            "type": "string",
            "title": "License",
            "description": "License information",
            "default": "N/A"
          },
          "visibility": {
            "type": "string",
            "title": "Visibility",
            "description": "Visibility: public, group-restricted, or internal (default)",
            "default": "internal"
          }
        },
        "type": "object",
        "required": [
          "name",
          "url"
        ],
        "title": "AgentRegistrationRequest",
        "description": "API request model for agent registration.\n\nThis model is used for the agent registration API endpoint and converts\nform-style inputs (e.g., comma-separated tags) into the proper types.\nAccepts both snake_case (Python) and camelCase (A2A spec JSON) field names."
      },
      "AgentSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Agent path for identification"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "agent_card": {
            "additionalProperties": true,
            "type": "object",
            "title": "Agent Card",
            "description": "Full agent card with all details"
          }
        },
        "type": "object",
        "required": [
          "path",
          "relevance_score",
          "agent_card"
        ],
        "title": "AgentSearchResult",
        "description": "Agent search result with minimal top-level fields to avoid duplication.\n\nOnly search-specific fields are at the top level. All agent details\n(name, description, url, skills, etc.) are in the agent_card."
      },
      "AnthropicFederationConfig": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "default": "https://registry.modelcontextprotocol.io"
          },
          "sync_on_startup": {
            "type": "boolean",
            "title": "Sync On Startup",
            "default": false
          },
          "servers": {
            "items": {
              "$ref": "#/components/schemas/AnthropicServerConfig"
            },
            "type": "array",
            "title": "Servers"
          }
        },
        "type": "object",
        "title": "AnthropicFederationConfig",
        "description": "Anthropic federation configuration."
      },
      "AnthropicServerConfig": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "AnthropicServerConfig",
        "description": "Anthropic server configuration."
      },
      "AsorAgentConfig": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "AsorAgentConfig",
        "description": "ASOR agent configuration."
      },
      "AsorFederationConfig": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "default": ""
          },
          "auth_env_var": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Env Var"
          },
          "sync_on_startup": {
            "type": "boolean",
            "title": "Sync On Startup",
            "default": false
          },
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AsorAgentConfig"
            },
            "type": "array",
            "title": "Agents"
          }
        },
        "type": "object",
        "title": "AsorFederationConfig",
        "description": "ASOR federation configuration."
      },
      "AuditEventsResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of matching events"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Maximum events per page"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of events skipped"
          },
          "events": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Events",
            "description": "List of audit events"
          }
        },
        "type": "object",
        "required": [
          "total",
          "limit",
          "offset",
          "events"
        ],
        "title": "AuditEventsResponse",
        "description": "Response model for paginated audit events."
      },
      "Body_add_server_to_groups_api_api_servers_groups_add_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_add_server_to_groups_api_api_servers_groups_add_post"
      },
      "Body_create_group_api_api_servers_groups_create_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "create_in_idp": {
            "type": "boolean",
            "title": "Create In Idp",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_create_group_api_api_servers_groups_create_post"
      },
      "Body_delete_group_api_api_servers_groups_delete_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "delete_from_keycloak": {
            "type": "boolean",
            "title": "Delete From Keycloak",
            "default": true
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_delete_group_api_api_servers_groups_delete_post"
      },
      "Body_discover_agents_by_skills_api_agents_discover_post": {
        "properties": {
          "skills": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skills"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "skills"
        ],
        "title": "Body_discover_agents_by_skills_api_agents_discover_post"
      },
      "Body_edit_server_submit_api_edit__service_path__post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "mcp_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Endpoint"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "visibility": {
            "type": "string",
            "title": "Visibility",
            "default": "public"
          },
          "allowed_groups": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Groups"
          }
        },
        "type": "object",
        "required": [
          "name",
          "proxy_pass_url"
        ],
        "title": "Body_edit_server_submit_api_edit__service_path__post"
      },
      "Body_internal_add_server_to_groups_api_internal_add_to_groups_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_internal_add_server_to_groups_api_internal_add_to_groups_post"
      },
      "Body_internal_create_group_api_internal_create_group_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "create_in_idp": {
            "type": "boolean",
            "title": "Create In Idp",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_internal_create_group_api_internal_create_group_post"
      },
      "Body_internal_delete_group_api_internal_delete_group_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "delete_from_keycloak": {
            "type": "boolean",
            "title": "Delete From Keycloak",
            "default": true
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_internal_delete_group_api_internal_delete_group_post"
      },
      "Body_internal_register_service_api_internal_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "overwrite": {
            "type": "boolean",
            "title": "Overwrite",
            "default": true
          },
          "auth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Provider"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type"
          },
          "supported_transports": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Transports"
          },
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headers"
          },
          "tool_list_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool List Json"
          },
          "visibility": {
            "type": "string",
            "title": "Visibility",
            "default": "public"
          },
          "allowed_groups": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Groups"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_internal_register_service_api_internal_register_post"
      },
      "Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post"
      },
      "Body_internal_remove_service_api_internal_remove_post": {
        "properties": {
          "service_path": {
            "type": "string",
            "title": "Service Path"
          }
        },
        "type": "object",
        "required": [
          "service_path"
        ],
        "title": "Body_internal_remove_service_api_internal_remove_post"
      },
      "Body_internal_toggle_service_api_internal_toggle_post": {
        "properties": {
          "service_path": {
            "type": "string",
            "title": "Service Path"
          }
        },
        "type": "object",
        "required": [
          "service_path"
        ],
        "title": "Body_internal_toggle_service_api_internal_toggle_post"
      },
      "Body_login_submit_api_auth_login_post": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_submit_api_auth_login_post"
      },
      "Body_register_service_api_api_servers_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "overwrite": {
            "type": "boolean",
            "title": "Overwrite",
            "default": true
          },
          "auth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Provider"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type"
          },
          "supported_transports": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Transports"
          },
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headers"
          },
          "tool_list_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool List Json"
          },
          "mcp_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Endpoint"
          },
          "sse_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sse Endpoint"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_register_service_api_api_servers_register_post"
      },
      "Body_register_service_api_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "mcp_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Endpoint"
          },
          "sse_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sse Endpoint"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "visibility": {
            "type": "string",
            "title": "Visibility",
            "default": "public"
          },
          "allowed_groups": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Groups"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_register_service_api_register_post"
      },
      "Body_remove_server_from_groups_api_api_servers_groups_remove_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_remove_server_from_groups_api_api_servers_groups_remove_post"
      },
      "Body_remove_service_api_api_servers_remove_post": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          }
        },
        "type": "object",
        "required": [
          "path"
        ],
        "title": "Body_remove_service_api_api_servers_remove_post"
      },
      "Body_toggle_service_api_api_servers_toggle_post": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "new_state": {
            "type": "boolean",
            "title": "New State"
          }
        },
        "type": "object",
        "required": [
          "path",
          "new_state"
        ],
        "title": "Body_toggle_service_api_api_servers_toggle_post"
      },
      "Body_toggle_service_route_api_toggle__service_path__post": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          }
        },
        "type": "object",
        "title": "Body_toggle_service_route_api_toggle__service_path__post"
      },
      "CompatibilityRequirement": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "product",
              "tool",
              "api",
              "environment"
            ],
            "title": "Type",
            "description": "Type of requirement"
          },
          "target": {
            "type": "string",
            "title": "Target",
            "description": "Target identifier (e.g., 'claude-code', 'python>=3.10')"
          },
          "min_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Version"
          },
          "max_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Version"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "False = optional enhancement",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "type",
          "target"
        ],
        "title": "CompatibilityRequirement",
        "description": "Machine-readable compatibility constraint."
      },
      "CreateClientSessionRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identity from auth context",
            "default": "anonymous"
          },
          "virtual_server_path": {
            "type": "string",
            "title": "Virtual Server Path",
            "description": "Virtual server path this session is for",
            "default": ""
          }
        },
        "type": "object",
        "title": "CreateClientSessionRequest",
        "description": "Request body for creating a client session via internal API."
      },
      "CreateClientSessionResponse": {
        "properties": {
          "client_session_id": {
            "type": "string",
            "title": "Client Session Id",
            "description": "Generated client session ID"
          }
        },
        "type": "object",
        "required": [
          "client_session_id"
        ],
        "title": "CreateClientSessionResponse",
        "description": "Response body after creating a client session."
      },
      "CreateVirtualServerRequest": {
        "properties": {
          "server_name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Server Name",
            "description": "Human-readable name"
          },
          "path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Path",
            "description": "Custom path (auto-generated from name if not provided)"
          },
          "description": {
            "type": "string",
            "maxLength": 2048,
            "title": "Description",
            "description": "Description of the virtual server",
            "default": ""
          },
          "tool_mappings": {
            "items": {
              "$ref": "#/components/schemas/ToolMapping"
            },
            "type": "array",
            "maxItems": 500,
            "title": "Tool Mappings",
            "description": "Tools to map from backend servers (max 500)"
          },
          "required_scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Scopes",
            "description": "Scopes required for access"
          },
          "tool_scope_overrides": {
            "items": {
              "$ref": "#/components/schemas/ToolScopeOverride"
            },
            "type": "array",
            "title": "Tool Scope Overrides",
            "description": "Per-tool scope overrides"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Tags",
            "description": "Tags for categorization (max 50)"
          },
          "supported_transports": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Transports",
            "description": "Supported transport types"
          }
        },
        "type": "object",
        "required": [
          "server_name"
        ],
        "title": "CreateVirtualServerRequest",
        "description": "Request model for creating a virtual server."
      },
      "DiscoveryResponse": {
        "properties": {
          "skills": {
            "items": {
              "$ref": "#/components/schemas/SkillTier1_Metadata"
            },
            "type": "array",
            "title": "Skills"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "default": 0
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "skills",
          "total_count"
        ],
        "title": "DiscoveryResponse",
        "description": "Response for coding assistant discovery endpoint."
      },
      "ErrorResponse": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error message"
          }
        },
        "type": "object",
        "required": [
          "error"
        ],
        "title": "ErrorResponse",
        "description": "Standard error response."
      },
      "ExportFormat": {
        "type": "string",
        "enum": [
          "env",
          "json",
          "tfvars",
          "yaml"
        ],
        "title": "ExportFormat",
        "description": "Supported configuration export formats."
      },
      "FederationConfig": {
        "properties": {
          "anthropic": {
            "$ref": "#/components/schemas/AnthropicFederationConfig"
          },
          "asor": {
            "$ref": "#/components/schemas/AsorFederationConfig"
          }
        },
        "type": "object",
        "title": "FederationConfig",
        "description": "Root federation configuration."
      },
      "FederationConnectionLog": {
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the connection occurred"
          },
          "peer_id": {
            "type": "string",
            "title": "Peer Id",
            "description": "ID of the connecting peer"
          },
          "peer_name": {
            "type": "string",
            "title": "Peer Name",
            "description": "Display name of the connecting peer",
            "default": ""
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth2 client_id from the token"
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "description": "API endpoint accessed"
          },
          "items_requested": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Items Requested",
            "description": "Number of items requested/returned",
            "default": 0
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the request succeeded",
            "default": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if request failed"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Unique request identifier for correlation"
          }
        },
        "type": "object",
        "required": [
          "peer_id",
          "client_id",
          "endpoint"
        ],
        "title": "FederationConnectionLog",
        "description": "Record of a federation connection from a peer."
      },
      "FederationExportResponse": {
        "properties": {
          "items": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Items",
            "description": "List of items (servers or agents) to sync"
          },
          "sync_generation": {
            "type": "integer",
            "title": "Sync Generation",
            "description": "Current generation number for incremental sync"
          },
          "total_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Count",
            "description": "Total number of items available"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether more items are available (pagination)",
            "default": false
          },
          "registry_id": {
            "type": "string",
            "title": "Registry Id",
            "description": "ID of the source registry"
          }
        },
        "type": "object",
        "required": [
          "sync_generation",
          "total_count",
          "registry_id"
        ],
        "title": "FederationExportResponse",
        "description": "Response model for federation export API endpoints.\n\nContains items to be synced by peer registries along with\nmetadata for incremental sync support.",
        "example": {
          "has_more": false,
          "items": [
            {
              "name": "Finance Tools",
              "path": "/finance-tools"
            }
          ],
          "registry_id": "central-registry",
          "sync_generation": 100,
          "total_count": 42
        }
      },
      "GetBackendSessionResponse": {
        "properties": {
          "backend_session_id": {
            "type": "string",
            "title": "Backend Session Id",
            "description": "Backend MCP session ID"
          }
        },
        "type": "object",
        "required": [
          "backend_session_id"
        ],
        "title": "GetBackendSessionResponse",
        "description": "Response body for backend session lookup."
      },
      "GroupCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "GroupCreateRequest",
        "description": "Payload for creating a Keycloak group."
      },
      "GroupDeleteResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "GroupDeleteResponse",
        "description": "Response when a Keycloak group is deleted."
      },
      "GroupListResponse": {
        "properties": {
          "groups": {
            "items": {
              "$ref": "#/components/schemas/GroupSummary"
            },
            "type": "array",
            "title": "Groups"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "GroupListResponse",
        "description": "Response for listing groups."
      },
      "GroupSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "path"
        ],
        "title": "GroupSummary",
        "description": "Group information."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HumanUserRequest": {
        "properties": {
          "username": {
            "type": "string",
            "minLength": 1,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "firstname": {
            "type": "string",
            "minLength": 1,
            "title": "Firstname"
          },
          "lastname": {
            "type": "string",
            "minLength": 1,
            "title": "Lastname"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Groups"
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Initial password (optional, generated elsewhere)"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "firstname",
          "lastname",
          "groups"
        ],
        "title": "HumanUserRequest",
        "description": "Payload for creating a Keycloak human user."
      },
      "M2MAccountRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Groups"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name",
          "groups"
        ],
        "title": "M2MAccountRequest",
        "description": "Payload for creating a Keycloak service account client."
      },
      "MatchingToolResult": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score",
            "default": 0.0
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "inputSchema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inputschema",
            "description": "JSON Schema for tool input parameters"
          }
        },
        "type": "object",
        "required": [
          "tool_name"
        ],
        "title": "MatchingToolResult",
        "description": "Tool matching result with optional schema for display."
      },
      "Package": {
        "properties": {
          "registryType": {
            "type": "string",
            "title": "Registrytype",
            "description": "Registry type (npm, pypi, oci, etc.)"
          },
          "identifier": {
            "type": "string",
            "title": "Identifier",
            "description": "Package identifier or URL"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Specific package version"
          },
          "registryBaseUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Registrybaseurl",
            "description": "Base URL of package registry"
          },
          "transport": {
            "additionalProperties": true,
            "type": "object",
            "title": "Transport",
            "description": "Transport configuration"
          },
          "runtimeHint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Runtimehint",
            "description": "Runtime hint (npx, uvx, docker, etc.)"
          }
        },
        "type": "object",
        "required": [
          "registryType",
          "identifier",
          "version",
          "transport"
        ],
        "title": "Package",
        "description": "Package information for MCP server distribution."
      },
      "PaginationMetadata": {
        "properties": {
          "nextCursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nextcursor",
            "description": "Cursor for next page"
          },
          "count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Count",
            "description": "Number of items in current page"
          }
        },
        "type": "object",
        "title": "PaginationMetadata",
        "description": "Pagination information for server lists."
      },
      "PeerRegistryConfig": {
        "properties": {
          "peer_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Peer Id",
            "description": "Unique identifier for this peer registry"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Human-readable display name for the peer"
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "description": "Base URL of the peer registry API"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether sync from this peer is enabled",
            "default": true
          },
          "sync_mode": {
            "type": "string",
            "enum": [
              "all",
              "whitelist",
              "tag_filter"
            ],
            "title": "Sync Mode",
            "description": "Sync mode: all items, whitelist only, or tag-based filtering",
            "default": "all"
          },
          "whitelist_servers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Whitelist Servers",
            "description": "Server paths to sync when sync_mode is 'whitelist'"
          },
          "whitelist_agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Whitelist Agents",
            "description": "Agent paths to sync when sync_mode is 'whitelist'"
          },
          "tag_filters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tag Filters",
            "description": "Tags to filter by when sync_mode is 'tag_filter'"
          },
          "sync_interval_minutes": {
            "type": "integer",
            "maximum": 1440.0,
            "minimum": 5.0,
            "title": "Sync Interval Minutes",
            "description": "Sync interval in minutes (5-1440)",
            "default": 60
          },
          "federation_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Federation Token",
            "description": "Federation static token from the remote peer registry. Used as Bearer token for sync requests when the peer has FEDERATION_STATIC_TOKEN_AUTH_ENABLED=true."
          },
          "expected_client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Client Id",
            "description": "Azure AD/Keycloak client_id (azp claim) that identifies this peer"
          },
          "expected_issuer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Issuer",
            "description": "Expected token issuer URL (for cross-tenant validation)"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "When this peer config was created"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When this peer config was last updated"
          }
        },
        "type": "object",
        "required": [
          "peer_id",
          "name",
          "endpoint"
        ],
        "title": "PeerRegistryConfig",
        "description": "Configuration for a peer registry connection.\n\nDefines how to connect to and sync from a peer registry,\nincluding endpoint, sync mode, and filtering options.",
        "example": {
          "enabled": true,
          "endpoint": "https://central.registry.company.com",
          "expected_client_id": "uuid-central-1111-2222-3333",
          "expected_issuer": "https://login.microsoftonline.com/tenant-id/v2.0",
          "name": "Central MCP Registry",
          "peer_id": "central-registry",
          "sync_interval_minutes": 30,
          "sync_mode": "all"
        }
      },
      "PeerSyncStatus": {
        "properties": {
          "peer_id": {
            "type": "string",
            "title": "Peer Id",
            "description": "ID of the peer registry"
          },
          "is_healthy": {
            "type": "boolean",
            "title": "Is Healthy",
            "description": "Whether the peer is currently reachable",
            "default": false
          },
          "last_health_check": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Health Check",
            "description": "When health was last checked"
          },
          "last_successful_sync": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful Sync",
            "description": "When last successful sync completed"
          },
          "last_sync_attempt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Sync Attempt",
            "description": "When last sync was attempted"
          },
          "current_generation": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Current Generation",
            "description": "Current sync generation number",
            "default": 0
          },
          "total_servers_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Servers Synced",
            "description": "Total number of servers from this peer",
            "default": 0
          },
          "total_agents_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Agents Synced",
            "description": "Total number of agents from this peer",
            "default": 0
          },
          "sync_in_progress": {
            "type": "boolean",
            "title": "Sync In Progress",
            "description": "Whether a sync is currently running",
            "default": false
          },
          "consecutive_failures": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Consecutive Failures",
            "description": "Number of consecutive sync failures",
            "default": 0
          },
          "sync_history": {
            "items": {
              "$ref": "#/components/schemas/SyncHistoryEntry"
            },
            "type": "array",
            "title": "Sync History",
            "description": "Recent sync history (max 100 entries)"
          }
        },
        "type": "object",
        "required": [
          "peer_id"
        ],
        "title": "PeerSyncStatus",
        "description": "Current sync status for a peer registry.\n\nTracks the state of synchronization including last sync time,\nhealth status, and recent sync history.",
        "example": {
          "consecutive_failures": 0,
          "current_generation": 100,
          "is_healthy": true,
          "last_health_check": "2024-01-15T10:35:00Z",
          "last_successful_sync": "2024-01-15T10:30:15Z",
          "peer_id": "central-registry",
          "sync_in_progress": false,
          "total_agents_synced": 15,
          "total_servers_synced": 42
        }
      },
      "PeerSyncSummary": {
        "properties": {
          "peer_id": {
            "type": "string",
            "title": "Peer Id",
            "description": "ID of the peer"
          },
          "peer_name": {
            "type": "string",
            "title": "Peer Name",
            "description": "Display name of the peer",
            "default": ""
          },
          "total_connections": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Connections",
            "description": "Total number of connections from this peer",
            "default": 0
          },
          "last_connection": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Connection",
            "description": "Timestamp of last connection"
          },
          "servers_shared": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Servers Shared",
            "description": "Number of servers shared with this peer",
            "default": 0
          },
          "agents_shared": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Agents Shared",
            "description": "Number of agents shared with this peer",
            "default": 0
          },
          "successful_requests": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Successful Requests",
            "description": "Number of successful requests",
            "default": 0
          },
          "failed_requests": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Failed Requests",
            "description": "Number of failed requests",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "peer_id"
        ],
        "title": "PeerSyncSummary",
        "description": "Summary of resources shared with a peer."
      },
      "Repository": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Repository URL for browsing source code"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Repository hosting service identifier (e.g., 'github')"
          },
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id",
            "description": "Repository ID from hosting service"
          },
          "subfolder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subfolder",
            "description": "Path within monorepo"
          }
        },
        "type": "object",
        "required": [
          "url",
          "source"
        ],
        "title": "Repository",
        "description": "Repository metadata for MCP server source code."
      },
      "SemanticSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 512,
            "minLength": 1,
            "title": "Query",
            "description": "Natural language query"
          },
          "entity_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "enum": [
                    "mcp_server",
                    "tool",
                    "a2a_agent",
                    "skill",
                    "virtual_server"
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Types",
            "description": "Optional entity filters"
          },
          "max_results": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Max Results",
            "description": "Maximum results per entity collection",
            "default": 10
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SemanticSearchRequest"
      },
      "SemanticSearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "search_mode": {
            "type": "string",
            "title": "Search Mode",
            "description": "Search mode: 'hybrid' (semantic+lexical) or 'lexical-only'",
            "default": "hybrid"
          },
          "servers": {
            "items": {
              "$ref": "#/components/schemas/ServerSearchResult"
            },
            "type": "array",
            "title": "Servers"
          },
          "tools": {
            "items": {
              "$ref": "#/components/schemas/ToolSearchResult"
            },
            "type": "array",
            "title": "Tools"
          },
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentSearchResult"
            },
            "type": "array",
            "title": "Agents"
          },
          "skills": {
            "items": {
              "$ref": "#/components/schemas/SkillSearchResult"
            },
            "type": "array",
            "title": "Skills"
          },
          "virtual_servers": {
            "items": {
              "$ref": "#/components/schemas/VirtualServerSearchResult"
            },
            "type": "array",
            "title": "Virtual Servers"
          },
          "total_servers": {
            "type": "integer",
            "title": "Total Servers",
            "default": 0
          },
          "total_tools": {
            "type": "integer",
            "title": "Total Tools",
            "default": 0
          },
          "total_agents": {
            "type": "integer",
            "title": "Total Agents",
            "default": 0
          },
          "total_skills": {
            "type": "integer",
            "title": "Total Skills",
            "default": 0
          },
          "total_virtual_servers": {
            "type": "integer",
            "title": "Total Virtual Servers",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SemanticSearchResponse"
      },
      "ServerDetail": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server name in reverse-DNS format"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Server description"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Server version"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Human-readable server name"
          },
          "repository": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Repository"
              },
              {
                "type": "null"
              }
            ],
            "description": "Repository information"
          },
          "websiteUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Websiteurl",
            "description": "Server website URL"
          },
          "packages": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/Package"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Packages",
            "description": "Package distributions"
          },
          "_meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Extensible metadata"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "version"
        ],
        "title": "ServerDetail",
        "description": "Detailed MCP server information."
      },
      "ServerList": {
        "properties": {
          "servers": {
            "items": {
              "$ref": "#/components/schemas/ServerResponse"
            },
            "type": "array",
            "title": "Servers",
            "description": "List of servers"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PaginationMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pagination info"
          }
        },
        "type": "object",
        "required": [
          "servers"
        ],
        "title": "ServerList",
        "description": "Response for server list queries."
      },
      "ServerResponse": {
        "properties": {
          "server": {
            "$ref": "#/components/schemas/ServerDetail",
            "description": "Server details"
          },
          "_meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Registry-managed metadata"
          }
        },
        "type": "object",
        "required": [
          "server"
        ],
        "title": "ServerResponse",
        "description": "Response for single server query."
      },
      "ServerSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "default": false
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "matching_tools": {
            "items": {
              "$ref": "#/components/schemas/MatchingToolResult"
            },
            "type": "array",
            "title": "Matching Tools"
          },
          "sync_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SyncMetadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "endpoint_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint Url",
            "description": "URL for agents to connect to this MCP server"
          },
          "proxy_pass_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Proxy Pass Url",
            "description": "Base URL for the MCP server backend (internal)"
          },
          "mcp_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Endpoint",
            "description": "Explicit streamable-http endpoint URL (if set)"
          },
          "sse_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sse Endpoint",
            "description": "Explicit SSE endpoint URL (if set)"
          },
          "supported_transports": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Transports",
            "description": "Supported transport types (e.g., streamable-http, sse)"
          }
        },
        "type": "object",
        "required": [
          "path",
          "server_name",
          "relevance_score"
        ],
        "title": "ServerSearchResult"
      },
      "SetDefaultVersion": {
        "properties": {
          "version": {
            "type": "string",
            "title": "Version"
          }
        },
        "type": "object",
        "required": [
          "version"
        ],
        "title": "SetDefaultVersion",
        "description": "Request model for setting default version."
      },
      "SkillCard": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Unique skill path (e.g., /skills/pdf-processing)"
          },
          "name": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "Name",
            "description": "Skill name: lowercase alphanumeric and hyphens only"
          },
          "description": {
            "type": "string",
            "maxLength": 1024,
            "minLength": 1,
            "title": "Description",
            "description": "What the skill does and when to use it"
          },
          "skill_md_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Skill Md Url",
            "description": "URL to the SKILL.md file as provided by the user"
          },
          "skill_md_raw_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Raw Url",
            "description": "Raw URL for fetching SKILL.md content (auto-translated from skill_md_url)"
          },
          "repository_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repository Url",
            "description": "URL to the git repository containing the skill"
          },
          "license": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License",
            "description": "License name or reference to bundled license file"
          },
          "compatibility": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Compatibility",
            "description": "Human-readable environment requirements"
          },
          "requirements": {
            "items": {
              "$ref": "#/components/schemas/CompatibilityRequirement"
            },
            "type": "array",
            "title": "Requirements",
            "description": "Machine-readable compatibility requirements"
          },
          "target_agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Target Agents",
            "description": "Target coding assistants (e.g., ['claude-code', 'cursor'])"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SkillMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional metadata (author, version, etc.)"
          },
          "allowed_tools": {
            "items": {
              "$ref": "#/components/schemas/ToolReference"
            },
            "type": "array",
            "title": "Allowed Tools",
            "description": "Tools the skill may use with capabilities"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization and search"
          },
          "visibility": {
            "$ref": "#/components/schemas/VisibilityEnum",
            "description": "Visibility scope",
            "default": "public"
          },
          "allowed_groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Groups",
            "description": "Groups allowed to view (when visibility=group)"
          },
          "owner": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner",
            "description": "Owner email/username for private visibility"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether the skill is enabled",
            "default": true
          },
          "registry_name": {
            "type": "string",
            "title": "Registry Name",
            "description": "Registry this skill belongs to",
            "default": "local"
          },
          "health_status": {
            "type": "string",
            "enum": [
              "healthy",
              "unhealthy",
              "unknown"
            ],
            "title": "Health Status",
            "description": "Health status from last SKILL.md accessibility check",
            "default": "unknown"
          },
          "last_checked_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked Time",
            "description": "When health was last checked"
          },
          "num_stars": {
            "type": "number",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Num Stars",
            "description": "Average rating (1-5 stars)",
            "default": 0.0
          },
          "rating_details": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Rating Details",
            "description": "List of individual user ratings with user and rating fields"
          },
          "content_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Version",
            "description": "Hash of SKILL.md for cache validation"
          },
          "content_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Updated At",
            "description": "When SKILL.md content was last updated"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "path",
          "name",
          "description",
          "skill_md_url"
        ],
        "title": "SkillCard",
        "description": "Full skill profile following Agent Skills specification."
      },
      "SkillMetadata": {
        "properties": {
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "extra": {
            "additionalProperties": true,
            "type": "object",
            "title": "Extra"
          }
        },
        "type": "object",
        "title": "SkillMetadata",
        "description": "Optional metadata for skills."
      },
      "SkillRegistrationRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "type": "string",
            "maxLength": 1024,
            "minLength": 1,
            "title": "Description"
          },
          "skill_md_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Skill Md Url",
            "description": "URL to SKILL.md file"
          },
          "repository_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repository Url"
          },
          "version": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 32
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Skill version (e.g., 1.0.0)"
          },
          "license": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License"
          },
          "compatibility": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Compatibility"
          },
          "requirements": {
            "items": {
              "$ref": "#/components/schemas/CompatibilityRequirement"
            },
            "type": "array",
            "title": "Requirements"
          },
          "target_agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Target Agents"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "allowed_tools": {
            "items": {
              "$ref": "#/components/schemas/ToolReference"
            },
            "type": "array",
            "title": "Allowed Tools"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "visibility": {
            "$ref": "#/components/schemas/VisibilityEnum",
            "default": "public"
          },
          "allowed_groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Groups"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "skill_md_url"
        ],
        "title": "SkillRegistrationRequest",
        "description": "Request model for skill registration."
      },
      "SkillSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "skill_name": {
            "type": "string",
            "title": "Skill Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "skill_md_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Url"
          },
          "skill_md_raw_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Raw Url"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "visibility": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visibility"
          },
          "owner": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "default": false
          },
          "health_status": {
            "type": "string",
            "enum": [
              "healthy",
              "unhealthy",
              "unknown"
            ],
            "title": "Health Status",
            "default": "unknown"
          },
          "last_checked_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked Time"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          }
        },
        "type": "object",
        "required": [
          "path",
          "skill_name",
          "relevance_score"
        ],
        "title": "SkillSearchResult"
      },
      "SkillTier1_Metadata": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "skill_md_url": {
            "type": "string",
            "title": "Skill Md Url"
          },
          "skill_md_raw_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Raw Url",
            "description": "Raw URL for fetching SKILL.md content"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "compatibility": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Compatibility"
          },
          "target_agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Target Agents"
          }
        },
        "type": "object",
        "required": [
          "path",
          "name",
          "description",
          "skill_md_url"
        ],
        "title": "SkillTier1_Metadata",
        "description": "Tier 1: Always available, ~100 tokens."
      },
      "StoreSessionRequest": {
        "properties": {
          "backend_session_id": {
            "type": "string",
            "title": "Backend Session Id",
            "description": "Session ID from the backend MCP server"
          },
          "client_session_id": {
            "type": "string",
            "title": "Client Session Id",
            "description": "Client-facing session ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identity from auth context",
            "default": "anonymous"
          },
          "virtual_server_path": {
            "type": "string",
            "title": "Virtual Server Path",
            "description": "Virtual server path",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "backend_session_id",
          "client_session_id"
        ],
        "title": "StoreSessionRequest",
        "description": "Request body for storing a backend session via internal API."
      },
      "SyncHistoryEntry": {
        "properties": {
          "sync_id": {
            "type": "string",
            "title": "Sync Id",
            "description": "Unique identifier for this sync operation"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At",
            "description": "When the sync operation started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the sync operation completed"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the sync completed successfully",
            "default": false
          },
          "servers_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Servers Synced",
            "description": "Number of servers synced",
            "default": 0
          },
          "agents_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Agents Synced",
            "description": "Number of agents synced",
            "default": 0
          },
          "servers_orphaned": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Servers Orphaned",
            "description": "Number of servers marked as orphaned",
            "default": 0
          },
          "agents_orphaned": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Agents Orphaned",
            "description": "Number of agents marked as orphaned",
            "default": 0
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if sync failed"
          },
          "sync_generation": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Sync Generation",
            "description": "Generation number used for this sync",
            "default": 0
          },
          "full_sync": {
            "type": "boolean",
            "title": "Full Sync",
            "description": "Whether this was a full sync (vs incremental)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "sync_id",
          "started_at"
        ],
        "title": "SyncHistoryEntry",
        "description": "Record of a single sync operation.\n\nCaptures the outcome of a sync attempt including success/failure,\nitems synced, and any errors encountered.",
        "example": {
          "agents_orphaned": 1,
          "agents_synced": 15,
          "completed_at": "2024-01-15T10:30:15Z",
          "full_sync": false,
          "servers_orphaned": 0,
          "servers_synced": 42,
          "started_at": "2024-01-15T10:30:00Z",
          "success": true,
          "sync_generation": 100,
          "sync_id": "sync-2024-01-15-103000"
        }
      },
      "SyncMetadata": {
        "properties": {
          "is_federated": {
            "type": "boolean",
            "title": "Is Federated",
            "default": false
          },
          "source_peer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Peer Id"
          },
          "synced_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Synced At"
          },
          "original_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Path"
          },
          "is_orphaned": {
            "type": "boolean",
            "title": "Is Orphaned",
            "default": false
          },
          "orphaned_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Orphaned At"
          },
          "is_read_only": {
            "type": "boolean",
            "title": "Is Read Only",
            "default": true
          }
        },
        "type": "object",
        "title": "SyncMetadata",
        "description": "Metadata for items synced from peer registries."
      },
      "SyncResult": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the sync completed successfully"
          },
          "peer_id": {
            "type": "string",
            "title": "Peer Id",
            "description": "ID of the peer that was synced"
          },
          "servers_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Servers Synced",
            "description": "Number of servers synced",
            "default": 0
          },
          "agents_synced": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Agents Synced",
            "description": "Number of agents synced",
            "default": 0
          },
          "servers_orphaned": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Servers Orphaned",
            "description": "Number of servers marked as orphaned",
            "default": 0
          },
          "agents_orphaned": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Agents Orphaned",
            "description": "Number of agents marked as orphaned",
            "default": 0
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if sync failed"
          },
          "duration_seconds": {
            "type": "number",
            "minimum": 0.0,
            "title": "Duration Seconds",
            "description": "Duration of the sync operation in seconds",
            "default": 0.0
          },
          "new_generation": {
            "type": "integer",
            "minimum": 0.0,
            "title": "New Generation",
            "description": "New generation number after sync",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "success",
          "peer_id"
        ],
        "title": "SyncResult",
        "description": "Result of a sync operation.\n\nReturned by sync methods to indicate success/failure and\nprovide details about what was synced."
      },
      "ToggleStateRequest": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "New enabled state"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "ToggleStateRequest",
        "description": "Request model for toggling skill state."
      },
      "ToggleVirtualServerRequest": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "New enabled state"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "ToggleVirtualServerRequest",
        "description": "Request model for toggling virtual server enabled state."
      },
      "ToolMapping": {
        "properties": {
          "tool_name": {
            "type": "string",
            "minLength": 1,
            "title": "Tool Name",
            "description": "Original tool name on the backend server"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Renamed tool name in virtual server (for conflict resolution)"
          },
          "backend_server_path": {
            "type": "string",
            "minLength": 1,
            "title": "Backend Server Path",
            "description": "Backend server path (e.g., '/github')"
          },
          "backend_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backend Version",
            "description": "Pinned version (None = active version, e.g., 'v1.5.0' = pinned)"
          },
          "description_override": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1024
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Override",
            "description": "Override the tool's description in this virtual server"
          }
        },
        "type": "object",
        "required": [
          "tool_name",
          "backend_server_path"
        ],
        "title": "ToolMapping",
        "description": "Maps a tool from a backend server into a virtual server.\n\nEach mapping selects a specific tool from a backend MCP server,\noptionally renaming it (alias) and pinning it to a specific version."
      },
      "ToolReference": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Tool name (e.g., 'Read', 'Bash')"
          },
          "server_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Path",
            "description": "MCP server path (e.g., '/servers/claude-tools')"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Capabilities",
            "description": "Capability filters (e.g., ['git:*'])"
          }
        },
        "type": "object",
        "required": [
          "tool_name"
        ],
        "title": "ToolReference",
        "description": "Reference to a tool with optional filtering."
      },
      "ToolScopeOverride": {
        "properties": {
          "tool_alias": {
            "type": "string",
            "minLength": 1,
            "title": "Tool Alias",
            "description": "Tool alias or original tool_name"
          },
          "required_scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Required Scopes",
            "description": "Scopes needed to see/call this tool"
          }
        },
        "type": "object",
        "required": [
          "tool_alias",
          "required_scopes"
        ],
        "title": "ToolScopeOverride",
        "description": "Per-tool scope override for fine-grained access control.\n\nAllows requiring additional scopes to see or call specific tools\nbeyond the virtual server's base required_scopes."
      },
      "ToolSearchResult": {
        "properties": {
          "server_path": {
            "type": "string",
            "title": "Server Path"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "inputSchema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inputschema",
            "description": "JSON Schema for tool input"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "endpoint_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint Url",
            "description": "URL for agents to connect to the parent MCP server"
          }
        },
        "type": "object",
        "required": [
          "server_path",
          "server_name",
          "tool_name",
          "relevance_score"
        ],
        "title": "ToolSearchResult"
      },
      "ToolValidationResult": {
        "properties": {
          "all_available": {
            "type": "boolean",
            "title": "All Available"
          },
          "missing_tools": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Missing Tools"
          },
          "available_tools": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Tools"
          },
          "mcp_servers_required": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Mcp Servers Required"
          }
        },
        "type": "object",
        "required": [
          "all_available"
        ],
        "title": "ToolValidationResult",
        "description": "Result of tool availability validation."
      },
      "UpdateVirtualServerRequest": {
        "properties": {
          "server_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name",
            "description": "Updated name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2048
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated description"
          },
          "tool_mappings": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ToolMapping"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Mappings",
            "description": "Updated tool mappings"
          },
          "required_scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Required Scopes",
            "description": "Updated required scopes"
          },
          "tool_scope_overrides": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ToolScopeOverride"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Scope Overrides",
            "description": "Updated per-tool scope overrides"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Updated tags"
          },
          "supported_transports": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Transports",
            "description": "Updated transport types"
          }
        },
        "type": "object",
        "title": "UpdateVirtualServerRequest",
        "description": "Request model for updating a virtual server."
      },
      "UserDeleteResponse": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "username"
        ],
        "title": "UserDeleteResponse",
        "description": "Standard response returned when a Keycloak user is deleted."
      },
      "UserListResponse": {
        "properties": {
          "users": {
            "items": {
              "$ref": "#/components/schemas/UserSummary"
            },
            "type": "array",
            "title": "Users"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "UserListResponse",
        "description": "Wrapper for list users endpoint."
      },
      "UserSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "firstName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Firstname"
          },
          "lastName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastname"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": true
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Groups"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username"
        ],
        "title": "UserSummary",
        "description": "Subset of user information exposed through the API."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          },
          "input": {
            "title": "Input"
          },
          "ctx": {
            "type": "object",
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VirtualServerConfig": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Unique path and MongoDB _id (e.g., '/virtual/dev-essentials')"
          },
          "server_name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Server Name",
            "description": "Human-readable name for the virtual server"
          },
          "description": {
            "type": "string",
            "maxLength": 2048,
            "title": "Description",
            "description": "Description of the virtual server's purpose",
            "default": ""
          },
          "tool_mappings": {
            "items": {
              "$ref": "#/components/schemas/ToolMapping"
            },
            "type": "array",
            "maxItems": 500,
            "title": "Tool Mappings",
            "description": "List of tools mapped from backend servers (max 500)"
          },
          "required_scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Scopes",
            "description": "Scopes required to access any tool on this virtual server"
          },
          "tool_scope_overrides": {
            "items": {
              "$ref": "#/components/schemas/ToolScopeOverride"
            },
            "type": "array",
            "title": "Tool Scope Overrides",
            "description": "Per-tool scope overrides for fine-grained access"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether the virtual server is enabled and routable",
            "default": false
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Tags",
            "description": "Tags for categorization and filtering (max 50)"
          },
          "supported_transports": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Transports",
            "description": "Supported MCP transport types"
          },
          "num_stars": {
            "type": "number",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Num Stars",
            "description": "Average star rating (0-5)",
            "default": 0.0
          },
          "rating_details": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Rating Details",
            "description": "List of individual ratings with user and rating"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By",
            "description": "Username of the creator"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "path",
          "server_name"
        ],
        "title": "VirtualServerConfig",
        "description": "Full virtual MCP server configuration.\n\nA virtual server aggregates tools from multiple backend MCP servers\ninto a single endpoint. It supports tool aliasing, version pinning,\nand scope-based access control."
      },
      "VirtualServerSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "backend_count": {
            "type": "integer",
            "title": "Backend Count",
            "default": 0
          },
          "backend_paths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Backend Paths"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "default": false
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "matching_tools": {
            "items": {
              "$ref": "#/components/schemas/MatchingToolResult"
            },
            "type": "array",
            "title": "Matching Tools"
          },
          "endpoint_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint Url",
            "description": "URL for agents to connect to this virtual MCP server"
          }
        },
        "type": "object",
        "required": [
          "path",
          "server_name",
          "relevance_score"
        ],
        "title": "VirtualServerSearchResult"
      },
      "VisibilityEnum": {
        "type": "string",
        "enum": [
          "public",
          "private",
          "group"
        ],
        "title": "VisibilityEnum",
        "description": "Visibility options for skills."
      },
      "registry__api__agent_routes__RatingRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "title": "Rating"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingRequest"
      },
      "registry__api__server_routes__RatingRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "title": "Rating"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingRequest"
      },
      "registry__api__skill_routes__RatingRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "title": "Rating"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingRequest",
        "description": "Request model for rating a skill."
      },
      "registry__api__virtual_server_routes__RatingRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "title": "Rating"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingRequest",
        "description": "Request model for rating a virtual server."
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Bearer token obtained from Keycloak OAuth2 authentication. Include in Authorization header as: `Authorization: Bearer <token>`"
      }
    }
  }
}
